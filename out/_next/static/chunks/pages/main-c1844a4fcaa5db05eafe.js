_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{"/Fb/":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/main",function(){return n("RH5L")}])},P8mQ:function(e,t){e.exports={addComma:function(e){if(e)return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}},RH5L:function(e,t,n){"use strict";n.r(t);var s=n("vDqi"),a=n.n(s),i=n("YFqc"),o=n.n(i),c=n("q1tI"),r=n("ZGN8"),l=n("P8mQ"),_=(n("KZGd"),n("nKUr"));t.default=function(){var e=Object(c.useState)(""),t=e[0],n=e[1],s=Object(c.useState)(),i=s[0],u=s[1],d=Object(c.useState)(!1),f=(d[0],d[1]),m=Object(c.useState)(),h=m[0],j=m[1];function p(){var e={authorization:window.sessionStorage.getItem("accessToken")};a()({method:"GET",url:"https://us-central1-play2earn-b23c6.cloudfunctions.net/api/users",headers:e}).then((function(e){200===e.status&&(n(e.data.email),u(e.data.point),j(e.data.kinds),window.sessionStorage.setItem("point",e.data.point),window.sessionStorage.setItem("email",e.data.email))})).catch((function(e){401===e.response.status&&101===e.response.data.errCode&&Object(r.refreshToken)(p)}))}return Object(c.useEffect)((function(){if(window.sessionStorage.getItem("point")){var e=window.sessionStorage.getItem("point");u(e),n(window.sessionStorage.getItem("email"))}p()}),[]),Object(_.jsx)("div",{className:"main",children:Object(_.jsxs)("div",{className:"main__contents",children:[Object(_.jsxs)("div",{className:"main__contents__user",children:[Object(_.jsxs)("ul",{className:"main__contents__user__info",children:[Object(_.jsxs)("li",{className:"main__contents__user__info__point",children:[Object(l.addComma)(i),Object(_.jsx)("span",{children:"P"})]}),Object(_.jsxs)("li",{className:"main__contents__user__info__email",children:[t," ",1===h&&"(\ucd1d\ud310)"]})]}),Object(_.jsx)("img",{src:"/images/icons/logout_black.png",alt:"logout",className:"main__contents__user__logout",onClick:function(){window.sessionStorage.clear(),alert("\uc815\uc0c1\uc801\uc73c\ub85c \ub85c\uadf8\uc544\uc6c3 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),f(!1),location.href="/"}})]}),Object(_.jsx)("div",{className:"main__contents__menu",children:Object(_.jsxs)("ul",{className:"main__contents__menu__list",children:[Object(_.jsx)(o.a,{href:{pathname:"/CurrencyWithdraw",query:{point:i}},children:Object(_.jsxs)("li",{className:"main__contents__menu__list__item",children:[Object(_.jsx)("img",{src:"/images/currency.png",alt:"won"}),Object(_.jsx)("div",{className:"main__contents__menu__list__item__text",children:"\uc6d0\ud654\ucd9c\uae08"})]})}),Object(_.jsx)(o.a,{href:"/CoinWithdraw",children:Object(_.jsxs)("li",{className:"main__contents__menu__list__item",children:[Object(_.jsx)("img",{src:"/images/coin.png",alt:"won"}),Object(_.jsx)("div",{className:"main__contents__menu__list__item__text",children:"\ucf54\uc778\ucd9c\uae08"})]})}),Object(_.jsx)(o.a,{href:"/History",children:Object(_.jsxs)("li",{className:"main__contents__menu__list__item",children:[Object(_.jsx)("img",{src:"/images/withdraw.png",alt:"won"}),Object(_.jsx)("div",{className:"main__contents__menu__list__item__text",children:"\ucd9c\uae08\ub0b4\uc5ed"})]})}),Object(_.jsx)(o.a,{href:"/pointList",children:Object(_.jsxs)("li",{className:"main__contents__menu__list__item",children:[Object(_.jsx)("img",{src:"/images/pointList.png",alt:"won"}),Object(_.jsx)("div",{className:"main__contents__menu__list__item__text",children:"\ud3ec\uc778\ud2b8\ub0b4\uc5ed"})]})}),Object(_.jsx)(o.a,{href:"/Invitation",children:Object(_.jsxs)("li",{className:"main__contents__menu__list__item",children:[Object(_.jsx)("img",{src:"/images/invitation.png",alt:"won"}),Object(_.jsx)("div",{className:"main__contents__menu__list__item__text",children:"\ucd08\ub300\ub0b4\uc5ed"})]})})]})})]})})}},YFqc:function(e,t,n){e.exports=n("cTJO")},ZGN8:function(e,t,n){var s=n("vDqi");e.exports={refreshToken:function(e){s({method:"POST",url:"https://securetoken.googleapis.com/v1/token?key=AIzaSyDtBaXgQohMjufjL2GWSPEhwLeeIBLBke4",data:{grant_type:"refresh_token",refresh_token:window.sessionStorage.getItem("refresh")}}).then((function(t){window.sessionStorage.setItem("accessToken",t.data.access_token),window.sessionStorage.setItem("token",t.data.id_token),window.sessionStorage.setItem("refresh",t.data.refresh_token),e()})).catch((function(e){alert("\uc11c\ubc84 \uc778\uc99d \uc911 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\ud574\uc8fc\uc138\uc694.")}))}}},cTJO:function(e,t,n){"use strict";var s=n("zoAU");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=n("q1tI"))&&a.__esModule?a:{default:a},o=n("Sgtc"),c=n("nOHt"),r=n("vNVm");var l={};function _(e,t,n,s){if(e&&o.isLocalURL(t)){e.prefetch(t,n,s).catch((function(e){0}));var a=s&&"undefined"!==typeof s.locale?s.locale:e&&e.locale;l[t+"%"+n+(a?"%"+a:"")]=!0}}var u=function(e){var t,n=!1!==e.prefetch,a=c.useRouter(),u=i.default.useMemo((function(){var t=o.resolveHref(a,e.href,!0),n=s(t,2),i=n[0],c=n[1];return{href:i,as:e.as?o.resolveHref(a,e.as):c||i}}),[a,e.href,e.as]),d=u.href,f=u.as,m=e.children,h=e.replace,j=e.shallow,p=e.scroll,v=e.locale;"string"===typeof m&&(m=i.default.createElement("a",null,m));var g=(t=i.default.Children.only(m))&&"object"===typeof t&&t.ref,b=r.useIntersection({rootMargin:"200px"}),w=s(b,2),O=w[0],x=w[1],N=i.default.useCallback((function(e){O(e),g&&("function"===typeof g?g(e):"object"===typeof g&&(g.current=e))}),[g,O]);i.default.useEffect((function(){var e=x&&n&&o.isLocalURL(d),t="undefined"!==typeof v?v:a&&a.locale,s=l[d+"%"+f+(t?"%"+t:"")];e&&!s&&_(a,d,f,{locale:t})}),[f,d,x,v,n,a]);var y={ref:N,onClick:function(e){t.props&&"function"===typeof t.props.onClick&&t.props.onClick(e),e.defaultPrevented||function(e,t,n,s,a,i,c,r){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&o.isLocalURL(n))&&(e.preventDefault(),null==c&&s.indexOf("#")>=0&&(c=!1),t[a?"replace":"push"](n,s,{shallow:i,locale:r,scroll:c}))}(e,a,d,f,h,j,p,v)},onMouseEnter:function(e){o.isLocalURL(d)&&(t.props&&"function"===typeof t.props.onMouseEnter&&t.props.onMouseEnter(e),_(a,d,f,{priority:!0}))}};if(e.passHref||"a"===t.type&&!("href"in t.props)){var k="undefined"!==typeof v?v:a&&a.locale,I=a&&a.isLocaleDomain&&o.getDomainLocale(f,k,a&&a.locales,a&&a.domainLocales);y.href=I||o.addBasePath(o.addLocale(f,k,a&&a.defaultLocale))}return i.default.cloneElement(t,y)};t.default=u},vNVm:function(e,t,n){"use strict";var s=n("zoAU");Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!o,r=a.useRef(),l=a.useState(!1),_=s(l,2),u=_[0],d=_[1],f=a.useCallback((function(e){r.current&&(r.current(),r.current=void 0),n||u||e&&e.tagName&&(r.current=function(e,t,n){var s=function(e){var t=e.rootMargin||"",n=c.get(t);if(n)return n;var s=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=s.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return c.set(t,n={id:t,observer:a,elements:s}),n}(n),a=s.id,i=s.observer,o=s.elements;return o.set(e,t),i.observe(e),function(){o.delete(e),i.unobserve(e),0===o.size&&(i.disconnect(),c.delete(a))}}(e,(function(e){return e&&d(e)}),{rootMargin:t}))}),[n,t,u]);return a.useEffect((function(){if(!o&&!u){var e=i.requestIdleCallback((function(){return d(!0)}));return function(){return i.cancelIdleCallback(e)}}}),[u]),[f,u]};var a=n("q1tI"),i=n("0G5g"),o="undefined"!==typeof IntersectionObserver;var c=new Map}},[["/Fb/",1,0,2,3,5]]]);