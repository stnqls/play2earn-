_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[38],{"20a2":function(e,t,a){e.exports=a("nOHt")},"6jDr":function(e,t,a){},QyYa:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/play2earnadmin/withdrawal/coin/CoinWithdrawal",function(){return a("h4YT")}])},h4YT:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),i=a("vDqi"),c=a.n(i),s=a("0fKb"),d=a.n(s),r=a("ZGN8"),o=a("vYuX"),l=(a("6jDr"),a("nKUr"));t.default=function(){var e=Object(n.useState)([]),t=e[0],a=e[1],i=Object(n.useState)(""),s=i[0],_=i[1],h=Object(n.useState)(0),u=h[0],b=h[1],j=Object(n.useState)(""),m=j[0],w=j[1],x=Object(n.useState)(1),O=x[0],f=x[1],p=Object(n.useState)(10),N=p[0];p[1];function g(){var e={authorization:window.sessionStorage.getItem("accessToken")};c()({method:"GET",url:"https://us-central1-play2earn-b23c6.cloudfunctions.net/api/admin/withdrawal?type=trx&status=".concat(s),headers:e}).then((function(e){200===e.status&&a(e.data)})).catch((function(e){401===e.response.status&&(101===e.response.data.errCode&&Object(r.refreshToken)(g),console.log(e))}))}var T=t.filter((function(e){return""===m||e.email.toLowerCase().includes(m.toLowerCase())?e:void 0}));return Object(n.useEffect)((function(){g()}),[u,m]),Object(l.jsxs)("div",{className:"admin-coin-withdrawal",children:[Object(l.jsxs)("div",{className:"admin-coin-withdrawal__header",children:[Object(l.jsxs)("ul",{className:"admin-coin-withdrawal__header__menu",children:[Object(l.jsx)("li",{className:0===u?"admin-coin-withdrawal__header__menu__item":"admin-coin-withdrawal__header__menu__item--none",onClick:function(){b(0),_("")},children:"\uc804\uccb4\ubcf4\uae30"}),Object(l.jsx)("li",{className:1===u?"admin-coin-withdrawal__header__menu__item":"admin-coin-withdrawal__header__menu__item--none",onClick:function(){b(1),_("101")},children:"\uc2e0\uccad\uc911"}),Object(l.jsx)("li",{className:2===u?"admin-coin-withdrawal__header__menu__item":"admin-coin-withdrawal__header__menu__item--none",onClick:function(){b(2),_("102")},children:"\uc2b9\uc778\uc644\ub8cc"}),Object(l.jsx)("li",{className:3===u?"admin-coin-withdrawal__header__menu__item":"admin-coin-withdrawal__header__menu__item--none",onClick:function(){_("109"),b(3)},children:"\uc2b9\uc778\uac70\uc808"})]}),Object(l.jsx)("input",{type:"text",placeholder:"\uac80\uc0c9\ud558\uae30",className:"admin-coin-withdrawal__header__search",onChange:function(e){w(e.target.value)}})]}),Object(l.jsxs)("div",{className:"admin-coin-withdrawal__body",children:[Object(l.jsxs)("table",{className:"admin-coin-withdrawal__body__table admin-coin-withdrawal-table",children:[Object(l.jsx)("thead",{className:"admin-coin-withdrawal-table__thead",children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"ID"}),Object(l.jsx)("td",{children:"EMAIL"}),Object(l.jsx)("td",{children:"POINT"}),Object(l.jsx)("td",{children:"STATUS"}),Object(l.jsx)("td",{className:"admin-coin-withdrawal-table__date",children:"DATE"})]})}),Object(l.jsx)("tbody",{className:"admin-coin-withdrawal-table__tbody",children:T&&T.length>0?T.slice(N*(O-1),N*(O-1)+N).map((function(e,t){return Object(l.jsx)(o.default,{address:e.address,amount:e.amount,created:e.created,email:e.email,point:e.point,seq:e.seq,status:e.status,txid:e.txid},"admin-coin-withdrawal-".concat(t))})):Object(l.jsx)("tr",{children:Object(l.jsx)("td",{colSpan:5,className:"admin-coin-withdrawal-table__tbody__none",children:"\ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})})]}),T&&T.length&&Object(l.jsx)(d.a,{totalItemsCount:t.length,activePage:O,onChange:function(e){f(e)},itemsCountPerPage:N,firstPageText:"",lastPageText:"",nextPageText:">",prevPageText:"<"})]})]})}},vYuX:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),i=a.n(n),c=a("ZGN8"),s=a("vDqi"),d=a.n(s),r=a("20a2"),o=a.n(r),l=a("nKUr");t.default=function(e){var t=Object(n.useState)(!1),a=t[0],s=t[1],r=Object(n.useState)(""),_=r[0],h=r[1],u=Object(n.useState)(""),b=u[0],j=u[1],m=e.status;switch(m){case 101:m="\uc2e0\uccad\uc911";break;case 102:m="\uc2b9\uc778\uc644\ub8cc";break;case 109:m="\uc2b9\uc778\uac70\uc808"}function w(){if(""===_)return alert("\ucf54\uc778\uac1c\uc218\ub97c \uc785\ub825\ud558\uc138\uc694");var t={authorization:window.sessionStorage.getItem("accessToken")};d()({method:"PATCH",url:"https://us-central1-play2earn-b23c6.cloudfunctions.net/api/admin/withdrawal",headers:t,data:{seq:e.seq,email:e.email,status:"102",type:"trx",amount:_,txid:b}}).then((function(e){200===e.status&&window.confirm("\uc2b9\uc778\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(alert("\uc2b9\uc778\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),setTimeout((function(){o.a.reload()}),200))})).catch((function(e){401===e.response.status?101===e.response.data.errCode&&Object(c.refreshToken)(w):400===e.response.status&&601===e.response.data.errCode&&alert("\uc785\ub825\uac12\uc744 \ud655\uc778\ud574 \uc8fc\uc138\uc694")}))}function x(){var t={authorization:window.sessionStorage.getItem("accessToken")};d()({method:"PATCH",url:"https://us-central1-play2earn-b23c6.cloudfunctions.net/api/admin/withdrawal",headers:t,data:{seq:e.seq,email:e.email,status:"109",type:"trx"}}).then((function(e){200===e.status&&window.confirm("\uac70\uc808\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(alert("\uac70\uc808\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),setTimeout((function(){o.a.reload()}),200))})).catch((function(e){401===e.response.status?101===e.response.data.errCode&&Object(c.refreshToken)(x):(console.log(e),alert("\ub2e4\uc2dc\uc2dc\ub3c4\ud574\uc8fc\uc138\uc694"))}))}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("tr",{onClick:function(){s(!a)},className:"admin-coin-withdrawal-table__tbody__tr",children:[Object(l.jsx)("td",{children:e.seq}),Object(l.jsx)("td",{children:e.email}),Object(l.jsx)("td",{children:e.point}),Object(l.jsx)("td",{children:m}),Object(l.jsx)("td",{children:e.created})]}),Object(l.jsx)("tr",{className:a?"admin-coin-withdrawal-table__tbody__detail":"admin-coin-withdrawal-table__tbody__detail--none",children:101===e.status?Object(l.jsxs)(i.a.Fragment,{children:[Object(l.jsxs)("td",{colSpan:4,children:["\uc9c0\uac11\uc8fc\uc18c : ",e.address,Object(l.jsx)("br",{}),"\uae08\uc561 : ",e.amount," ",Object(l.jsx)("br",{}),"TX ID :",Object(l.jsx)("input",{type:"text",className:"admin-coin-withdrawal-table__txid",placeholder:"TX ID\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",onChange:function(e){j(e.target.value)}})]}),Object(l.jsxs)("td",{colSpan:1,className:"admin-coin-withdrawal-table__tbody__detail__btns",children:[Object(l.jsx)("input",{type:"number",className:"admin-coin-withdrawal-table__tbody__detail__btns__input",onChange:function(e){h(e.target.value)},placeholder:"\uc804\uc1a1\ud55c \ucf54\uc778\uc758 \uac1c\uc218\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"}),Object(l.jsx)("button",{className:"admin-coin-withdrawal-table__tbody__detail__btns__approval",onClick:function(){w()},children:"\uc2b9\uc778"}),Object(l.jsx)("button",{className:"admin-coin-withdrawal-table__tbody__detail__btns__deny",onClick:function(){x()},children:"\uac70\uc808"})]})]}):Object(l.jsxs)("td",{colSpan:5,children:["\uc9c0\uac11\uc8fc\uc18c : ",e.address,Object(l.jsx)("br",{}),"\uae08\uc561 : ",e.amount," ",Object(l.jsx)("br",{}),"TX ID :",Object(l.jsx)("a",{href:"https://tronscan.org/#/transaction/".concat(e.txid),target:"_blank",children:e.txid})]})})]})}}},[["QyYa",1,0,2,3,4]]]);