_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[28],{GtHW:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/play2earnadmin/notice/ChangeNotice",function(){return n("nhPY")}])},Q8tD:function(e,t,n){},ZGN8:function(e,t,n){var c=n("vDqi");e.exports={refreshToken:function(e){c({method:"POST",url:"https://securetoken.googleapis.com/v1/token?key=AIzaSyDtBaXgQohMjufjL2GWSPEhwLeeIBLBke4",data:{grant_type:"refresh_token",refresh_token:window.sessionStorage.getItem("refresh")}}).then((function(t){window.sessionStorage.setItem("accessToken",t.data.access_token),window.sessionStorage.setItem("token",t.data.id_token),window.sessionStorage.setItem("refresh",t.data.refresh_token),e()})).catch((function(e){alert("\uc11c\ubc84 \uc778\uc99d \uc911 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\ud574\uc8fc\uc138\uc694.")}))}}},nhPY:function(e,t,n){"use strict";n.r(t);var c=n("vDqi"),a=n.n(c),s=n("q1tI"),o=n("ZGN8"),i=(n("Q8tD"),n("nKUr"));t.default=function(){var e=Object(s.useState)(""),t=e[0],n=e[1],c=Object(s.useState)(""),h=c[0],_=c[1],d=Object(s.useState)(),r=d[0],l=d[1],u=Object(s.useState)(""),j=u[0],g=u[1],m=Object(s.useState)(""),b=m[0],f=m[1],w=Object(s.useState)(""),O=w[0],x=w[1];function p(){var e={authorization:window.sessionStorage.getItem("accessToken")};a()({method:"GET",url:"https://us-central1-play2earn-b23c6.cloudfunctions.net/api/admin/settings/notice",headers:e}).then((function(e){if(200===e.status){var t="Y"===e.data.notice_status?"\ubcf4\uc784":"\uc228\uae40";n(t),_(e.data.notice_status),l(e.data.notice_title),g(e.data.notice)}})).catch((function(e){401===e.response.status&&101===e.response.data.errCode&&Object(o.refreshToken)(p)}))}function v(){var e={authorization:window.sessionStorage.getItem("accessToken")};a()({method:"PATCH",url:"https://us-central1-play2earn-b23c6.cloudfunctions.net/api/admin/settings/notice",headers:e,data:{notice_status:"\ubcf4\uc784"===t?"Y":"N",notice_title:b,notice:O}}).then((function(e){200===e.status&&(alert("\uacf5\uc9c0\uc0ac\ud56d \ub0b4\uc6a9\uc774 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),_(e.data.notice_status),l(e.data.notice_title),g(e.data.notice))})).catch((function(e){401===e.response.status&&101===e.response.data.errCode&&Object(o.refreshToken)(v)}))}return Object(s.useEffect)((function(){p()}),[]),Object(i.jsxs)("div",{className:"admin-change-notice",children:[Object(i.jsxs)("div",{className:"admin-change-notice__show",children:[Object(i.jsx)("div",{className:"admin-change-notice__show__title",children:"\ud604\uc7ac \uacf5\uc9c0\uc0ac\ud56d"}),Object(i.jsxs)("div",{className:"admin-change-notice__show__content",children:[Object(i.jsxs)("div",{className:"admin-change-notice__show__content__chb",children:["\uacf5\uc9c0\uc0ac\ud56d \ubcf4\uc774\uae30/\uc228\uae30\uae30 : ","Y"===h?"\ubcf4\uc784":"\uc228\uae40"]}),Object(i.jsxs)("div",{className:"admin-change-notice__show__content__title",children:["\uc81c\ubaa9 : ",r]}),Object(i.jsx)("span",{children:"\ub0b4\uc6a9 "}),Object(i.jsx)("div",{className:"admin-change-notice__show__content__text",dangerouslySetInnerHTML:{__html:j}})]})]}),Object(i.jsxs)("div",{className:"admin-change-notice__change",children:[Object(i.jsx)("div",{className:"admin-change-notice__change__title",children:"\ubcc0\uacbd \uacf5\uc9c0\uc0ac\ud56d"}),Object(i.jsxs)("div",{className:"admin-change-notice__change__content",children:[Object(i.jsxs)("div",{className:"admin-change-notice__change__content__chb",children:["\uacf5\uc9c0\uc0ac\ud56d \ubcf4\uc774\uae30/\uc228\uae30\uae30 :",Object(i.jsx)("input",{type:"checkbox",id:"showChb",onChange:function(e){e.target.checked?(n("\ubcf4\uc784"),console.log(t)):(n("\uc228\uae40"),console.log(t))},checked:"\ubcf4\uc784"===t}),Object(i.jsx)("label",{htmlFor:"showChb",children:t})]}),Object(i.jsxs)("div",{className:"admin-change-notice__change__content__title",children:["\uc81c\ubaa9",Object(i.jsx)("input",{type:"text",maxLength:20,onChange:function(e){f(e.target.value)}})]}),Object(i.jsxs)("div",{className:"admin-change-notice__change__content__text",children:["\ub0b4\uc6a9",Object(i.jsx)("textarea",{onChange:function(e){x(e.target.value)},maxLength:180})]})]}),Object(i.jsx)("button",{className:"admin-change-notice__change__btn",onClick:function(){v()},children:"\ubcc0\uacbd\ud558\uae30"})]})]})}}},[["GtHW",1,0,2]]]);